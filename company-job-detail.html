<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Details - Company Dashboard | Job Path Academy</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <div class="nav-content">
                <a href="index.html" class="nav-logo">Job Path Academy</a>
                <div class="nav-links">
                    <a href="jobs.html" class="nav-link">Jobs</a>
                    <a href="hive.html" class="nav-link">The Hive</a>
                    <a href="index.html#for-companies" class="nav-link">For Companies</a>
                    <a href="auth.html" class="nav-link-cta">Sign In</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Company Layout -->
    <div class="company-layout">
        <!-- Sidebar -->
        <aside class="company-sidebar">
            <div class="company-sidebar-header">
                <h2 class="company-sidebar-title">Company Dashboard</h2>
            </div>
            <nav class="company-sidebar-nav">
                <a href="company-overview.html" class="company-sidebar-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                    Overview
                </a>
                <a href="company-jobs.html" class="company-sidebar-link active">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path></svg>
                    Jobs
                </a>
                <a href="company-applicants.html" class="company-sidebar-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                    Applicants
                </a>
                <a href="company-messages.html" class="company-sidebar-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                    Messages
                </a>
                <a href="company-modules.html" class="company-sidebar-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 10v6M2 10l10-5 10 5-10 5z"></path><path d="M6 12v5c3 3 9 3 12 0v-5"></path></svg>
                    Modules
                </a>
                <a href="company-billing.html" class="company-sidebar-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg>
                    Billing
                </a>
                <a href="company-team.html" class="company-sidebar-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path><circle cx="20" cy="10" r="3"></circle></svg>
                    Team
                </a>
                <a href="company-settings.html" class="company-sidebar-link">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M12 1v6m0 6v6m8.66-10.66l-4.24 4.24m-4.24 4.24L7.34 20.66M23 12h-6m-6 0H1m19.66 7.34l-4.24-4.24m-4.24-4.24L7.34 3.34"></path></svg>
                    Settings
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="company-main">
            <div class="company-content">
                <!-- Back Button -->
                <a href="company-jobs.html" class="company-btn-ghost" style="display: inline-flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px;">
                        <line x1="19" y1="12" x2="5" y2="12"></line>
                        <polyline points="12 19 5 12 12 5"></polyline>
                    </svg>
                    Back to Jobs
                </a>

                <!-- Header -->
                <div class="company-header-with-action" id="jobHeader">
                    <!-- Populated by JS -->
                </div>

                <!-- Tabs -->
                <div class="company-tabs">
                    <button class="company-tab active" data-tab="overview">Overview</button>
                    <button class="company-tab" data-tab="applicants">Applicants <span id="applicantCount"></span></button>
                    <button class="company-tab" data-tab="settings">Settings</button>
                </div>

                <!-- Tab Content -->
                <div class="company-tab-content">
                    <!-- Overview Tab -->
                    <div class="company-tab-panel active" id="overview-panel">
                        <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                            <!-- Job Details Card -->
                            <div class="company-card">
                                <h2 class="company-card-title" style="margin-bottom: 1rem;">Job Details</h2>
                                <div id="jobDetails">
                                    <!-- Populated by JS -->
                                </div>
                            </div>

                            <!-- Applicants Summary Card -->
                            <div class="company-card">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                                    <h2 class="company-card-title">Applicants Summary</h2>
                                    <button class="company-btn-outline-sm" id="viewAllApplicants">View All</button>
                                </div>
                                <div class="company-stats-grid" id="applicantStats">
                                    <!-- Populated by JS -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Applicants Tab -->
                    <div class="company-tab-panel" id="applicants-panel">
                        <div class="company-card">
                            <div class="company-table-wrapper">
                                <table class="company-table">
                                    <thead>
                                        <tr>
                                            <th>Candidate</th>
                                            <th>Stage</th>
                                            <th>Applied</th>
                                            <th>Score</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody id="applicantsTable">
                                        <!-- Populated by JS -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Settings Tab -->
                    <div class="company-tab-panel" id="settings-panel">
                        <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                            <!-- Visibility Card -->
                            <div class="company-card">
                                <h2 class="company-card-title" style="margin-bottom: 1rem;">Job Visibility</h2>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem 0;">
                                    <div>
                                        <p style="font-weight: 500; margin-bottom: 0.25rem;">Visible to candidates</p>
                                        <p style="font-size: 0.875rem; color: var(--muted-foreground);">Allow new applications</p>
                                    </div>
                                    <button class="company-btn-outline-sm" id="toggleVisibility">Hide Job</button>
                                </div>
                            </div>

                            <!-- Danger Zone Card -->
                            <div class="company-card">
                                <h2 class="company-card-title" style="margin-bottom: 1rem; color: rgb(239, 68, 68);">Danger Zone</h2>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 0.75rem 0;">
                                    <div>
                                        <p style="font-weight: 500; margin-bottom: 0.25rem;">Delete this job</p>
                                        <p style="font-size: 0.875rem; color: var(--muted-foreground);">
                                            Permanently remove this job posting and all associated data
                                        </p>
                                    </div>
                                    <button class="company-btn-danger" id="deleteJob">Delete Job</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 class="footer-title">Job Path Academy</h3>
                    <p class="footer-description">Connecting skilled annotators with AI companies building the future.</p>
                </div>
                <div class="footer-section">
                    <h4 class="footer-heading">For Annotators</h4>
                    <ul class="footer-links">
                        <li><a href="jobs.html">Browse Jobs</a></li>
                        <li><a href="hive.html">The Hive</a></li>
                        <li><a href="auth.html">Sign Up</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 class="footer-heading">For Companies</h4>
                    <ul class="footer-links">
                        <li><a href="index.html#for-companies">Post a Job</a></li>
                        <li><a href="index.html#for-companies">Find Talent</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 class="footer-heading">Company</h4>
                    <ul class="footer-links">
                        <li><a href="index.html#about">About</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Job Path Academy. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script type="module" src="company-job-detail.js"></script>
</body>
</html>
